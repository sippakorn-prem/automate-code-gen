name: Publish to chrome extension

on: workflow_dispatch

jobs:
  publish:
    runs-on: ubuntu-latest
    env:
      EXTENSION_ID: ${{ secrets.EXTENSION_ID }}
      CLIENT_ID: ${{ secrets.CLIENT_ID }}
      CLIENT_SECRET: ${{ secrets.CLIENT_SECRET }}
      REFRESH_TOKEN: ${{ secrets.REFRESH_TOKEN }}
    steps:
      - name: Download zip file
        uses: actions/download-artifact@v2
        with:
          name: zipped
      - name: Check file
        shell: bash
        run: |
          ls
      - name: Run publish script
        run: npm run chrome-publish